[gd_scene load_steps=18 format=3 uid="uid://yh6803te8yol"]

[ext_resource type="Script" path="res://worlds/thing.gd" id="1_33jpo"]
[ext_resource type="Texture2D" uid="uid://gyi4vnb2gycr" path="res://sprites/placeholder/Sam_Lake-MichaelFÃ¶rtsch.jpg" id="1_neyvk"]
[ext_resource type="Script" path="res://components/liftable.gd" id="2_7oolr"]
[ext_resource type="Texture2D" uid="uid://0ecw0dttv1pm" path="res://sprites/items/BALL.png" id="2_qbljm"]
[ext_resource type="Texture2D" uid="uid://dq5e6lgdg7bfc" path="res://sprites/placeholder/cat.jpg" id="2_ukgkm"]
[ext_resource type="Script" path="res://prefabs/cursor.gd" id="4_ki16a"]
[ext_resource type="Script" path="res://components/mover.gd" id="4_tbqlv"]
[ext_resource type="Texture2D" uid="uid://cjx35aer02h6v" path="res://sprites/cursor/HAND_OPEN.png" id="5_h4amm"]
[ext_resource type="Script" path="res://prefabs/basket.gd" id="7_efkr8"]
[ext_resource type="Script" path="res://components/pickuphandler.gd" id="7_ggt64"]
[ext_resource type="Script" path="res://worlds/thing_box.gd" id="8_7443n"]
[ext_resource type="Script" path="res://worlds/hand_animator.gd" id="8_owwyq"]
[ext_resource type="Texture2D" uid="uid://d0kasc6hb56y2" path="res://sprites/cursor/HAND_CLOSED.png" id="9_u7pfq"]

[sub_resource type="CylinderShape3D" id="CylinderShape3D_dd1y3"]
radius = 11.0772

[sub_resource type="BoxShape3D" id="BoxShape3D_vtevo"]
size = Vector3(250, 3, 500)

[sub_resource type="BoxShape3D" id="BoxShape3D_tawhv"]
size = Vector3(63.8059, 0.16481, 122.178)

[sub_resource type="BoxShape3D" id="BoxShape3D_37mxm"]
size = Vector3(63.2544, 5.30457, 94.276)

[node name="World" type="Node3D"]

[node name="Thing" type="RigidBody3D" parent="." groups=["things"]]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, -68.5418, 15.4546, 0)
collision_layer = 3
collision_mask = 3
lock_rotation = true
script = ExtResource("1_33jpo")

[node name="CollisionShape3D" type="CollisionShape3D" parent="Thing"]
shape = SubResource("CylinderShape3D_dd1y3")

[node name="Sprite3D" type="Sprite3D" parent="Thing"]
transform = Transform3D(1, 0, 0, 0, -4.37114e-08, 1, 0, -1, -4.37114e-08, 0, 1, 0)
render_priority = 12
texture = ExtResource("2_qbljm")

[node name="Liftable" type="Node" parent="Thing"]
script = ExtResource("2_7oolr")

[node name="Camera3D" type="Camera3D" parent="."]
transform = Transform3D(1, 0, 0, 0, -4.37114e-08, 1, 0, -1, -4.37114e-08, 0, 173.991, 0)
fov = 97.1
size = 200.0
near = 0.03
far = 5000.0

[node name="Floor" type="StaticBody3D" parent="."]

[node name="CollisionShape3D" type="CollisionShape3D" parent="Floor"]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 0, -0.4995, 0)
shape = SubResource("BoxShape3D_vtevo")

[node name="Sprite3D" type="Sprite3D" parent="Floor"]
transform = Transform3D(30, 0, 0, 0, -1.31134e-06, 30, 0, -30, -1.31134e-06, 0, 0, 0)
texture = ExtResource("2_ukgkm")

[node name="Cursor" type="Node3D" parent="."]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 0, 88.4486, 0)
script = ExtResource("4_ki16a")

[node name="Components" type="Node" parent="Cursor"]

[node name="Mover" type="Node" parent="Cursor/Components"]
script = ExtResource("4_tbqlv")

[node name="HandAnimator" type="Sprite3D" parent="Cursor"]
transform = Transform3D(1, 0, 0, 0, -4.37114e-08, 1, 0, -1, -4.37114e-08, 0, 0, 0)
render_priority = 20
texture = ExtResource("5_h4amm")
script = ExtResource("8_owwyq")
open = ExtResource("5_h4amm")
closed = ExtResource("9_u7pfq")

[node name="PickupHandler" type="Marker3D" parent="Cursor"]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, -3.17952, 0, -16.7125)
script = ExtResource("7_ggt64")

[node name="Laser" type="RayCast3D" parent="Cursor/PickupHandler"]
target_position = Vector3(0, -100, 0)

[node name="ThingBox" type="Node3D" parent="Cursor/PickupHandler"]
script = ExtResource("8_7443n")

[node name="Basket" type="StaticBody3D" parent="."]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 0, 0.0832968, 0)
script = ExtResource("7_efkr8")

[node name="CollisionShape3D" type="CollisionShape3D" parent="Basket"]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, -0.328979, 0.67701, 0)
shape = SubResource("BoxShape3D_tawhv")

[node name="Sprite3D" type="Sprite3D" parent="Basket"]
transform = Transform3D(8, 0, 0, 0, -3.49691e-07, 8, 0, -8, -3.49691e-07, 0, 0, 0)
texture = ExtResource("1_neyvk")

[node name="ThingDetector" type="Area3D" parent="Basket"]

[node name="CollisionShape3D" type="CollisionShape3D" parent="Basket/ThingDetector"]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, -0.341553, 2.15228, -0.0582085)
shape = SubResource("BoxShape3D_37mxm")

[connection signal="body_entered" from="Thing" to="Thing" method="_on_body_entered"]
[connection signal="body_entered" from="Basket/ThingDetector" to="Basket" method="_on_thing_detector_body_entered"]
[connection signal="body_exited" from="Basket/ThingDetector" to="Basket" method="_on_thing_detector_body_exited"]
